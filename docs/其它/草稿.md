# MAC技巧
## Terminal与Finder、文件
### 从Terminal打开Finder、文件
open ./
open /usr/local/lib
open hello.png

### 在当前Finder目录打开Terminal
将`New Terminal at Folder`加入到Findler的Service中并设置快捷键
设置 -> 键盘 -> 快捷键 -> 服务 -> 新建位于文件夹位置的终端窗口

## 测试图片生成
    https://placeholder.com/
    
# Graphviz
https://dreampuf.github.io/GraphvizOnline/

## entity与value object
1. entity有ID，而value object无ID

## 聚合根
一组entity或value object称为聚合，其中的一个entity作为核心entity作为聚合根。
1. 聚合根是外部访问的入口
2. 聚合根持有其它entity或value object的引用，但不向外暴露（private修饰且无getter/setter）
3. 聚合与聚合之间通过ID进行关联

https://deviq.com/aggregate-pattern/
In addition to controlling access, the aggregate root is also responsible for ensuring the consistency of the aggregate.
This is why it is important to ensure that the aggregate root does not directly expose its children, but rather controls
access itself.

3. 删除聚合根通常应该删除此聚合内的所有entity（比如订单Order与订单项OrderItem，一个OrderItem应该包括一个产品Product，但Product应该是一个独立的聚合根）
> 在这种情况下，OrderItem里应有一个ProductId，同时有一些Product必要的快照信息，比如ProductName，ProductPrice等

## Repositories
1. 只有聚合根才有Repositories
2. 负责数据存储及访问

## @RestControllerAdvice
异常捕获，可以捕获到该package下的全部异常，防止异常抛出，结合@ExceptionHandler使用
```java
@RestControllerAdvice
public class ExceptionHandleActionAdvice {
    @ExceptionHandler(ConstraintViolationException.class)
    public WebResult handleException(ConstraintViolationException e) {
        String errMsg = e.getConstraintViolations().stream()
            .map(ConstraintViolation::getMessage)
            .collect(Collectors.joining(","));
        return WebResult.fail(MessageCode.PARAMETER_VALIDATED_FAILED, errMsg);
    }
}
```

## Mysql-LeftMost
https://dba.stackexchange.com/questions/161206/mysql-is-using-an-index-not-listed-in-possible-keys