# Python常用模块
## os
1. 执行系统命令
    ```python
    import os
    
    a = os.system("pwd")  # 执行系统命令。会将执行过程的输出打印，并且返回值为执行的状态：0为成功，1为失败，256表示没有返回结果
    print(a)
    print("-----")
    b = os.popen("pwd")  # 执行系统命令。执行过程的输出不会打印，但会以一个文件对象做为返回值
    print(b.read())
    ```
## sys
1. 获取执行参数（结合getopt）
   ```python
   import sys
   import getopt
   
   print(sys.argv)
   options, args = getopt.getopt(sys.argv[1:], "tp:", ["ip=", "check"])  # 第二个参数为短格式，表示“-t不带参数，-p带参数”；第三个参数为长格式，表示--ip带参数，--check不带参数
   print(options)
   print(args)
   ```

   ```
   执行：
   python src/main/test.py -t -p 80 --ip 127.0.0.1 --check args1 args2 args3 
   # 直接参数需要在最后；短格式只能有一个字符且不能加=号（如上述不能写成-p=80）；长格式可加可不加=号（如上述也可以写成--ip=127.0.0.1）
   
   结果：
   ['src/main/test.py', '-t', '-p', '80', '--ip', '127.0.0.1', '--check', 'args1', 'args2', 'args3']
   [('-t', ''), ('-p', '80'), ('--ip', '127.0.0.1'), ('--check', '')]
   ['args1', 'args2', 'args3']
   ``` 
## re
1. match用于匹配及解析
   ```python
   # 从开头进行匹配
   m_r = re.match(r"(\d+)/(\d+)/(\d+)", "07/09/2023X")  # 字符串可长于规则（如这里多了一个X）
   if m_r:  # 判断是否匹配
      print(m_r.groups())  # ('07', '09', '2023')
      print(m_r.group(0))  # 07/09/2023
      print(m_r.group(1))  # 07
      print(m_r.group(2))  # 09
      print(m_r.group(3))  # 2023
      print(m_r.group(2, 3))  # ('09', '2023')
      print(m_r.span())  # (0, 10)，即表示匹配到的内容位于[0, 10)
   else:
      print("None match")
   ```
2. search用于搜索
   ```python
   # 类似于match，只不过不用从首个字符进行匹配。
   m_r = re.search(r"(\d+)/(\d+)/(\d+)", "今天是：07/09/2023，天气真好")
   if m_r:  # 判断是否匹配
      print(m_r.groups())  # ('07', '09', '2023')
      print(m_r.group(0))  # 07/09/2023
      print(m_r.group(1))  # 07
      print(m_r.group(2))  # 09
      print(m_r.group(3))  # 2023
      print(m_r.group(2, 3))  # ('09', '2023')
      print(m_r.span())  # (4, 14)，即表示匹配到的内容位于[4, 14)
   else:
      print("None match")
   ```
3. sub用于替换
   ```python
   re.sub(r"(\d+)/(\d+)/(\d+)", "xx/xx/xxxx", "今天是：07/09/2023，天气真好")  # 今天是：xx/xx/xxxx，天气真好
   re.sub(r"(\d+)/(\d+)/(\d+)", r"\3-\1-\2", "今天是：07/09/2023，天气真好")  # 今天是：2023-07-09，天气真好
   ```
4. findall查找所有
   ```python
   re.findall(r"\d+", "今天是：07/09/2023，天气真好")  # ['07', '09', '2023']
   ```